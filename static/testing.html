<body></body>
<script
  src="https://code.jquery.com/jquery-3.6.2.min.js"
  integrity="sha256-2krYZKh//PcchRtd+H+VyyQoZ/e3EcrkxhM8ycwASPA="
  crossorigin="anonymous"
></script>
<script>
  let passages = [
    "-Continue where you left off-",
    "Passage Teleport",
    "Control: Variables",
    "Control: Variables (Users)",
    "Control: Variables (Factions)",
    "Side Passage Control",
  ].sort();

  let roles = {
    Marina: {
      faction: "Spaniards",
      Character: "Doña Marina/Malinche",
      isLeader: "FALSE",
      discriminator: "1234",
    },
    Alvarado: {
      faction: "Spaniards",
      Character: "Pedro de Alvarado",
      isLeader: "FALSE",
      discriminator: "1234",
    },
    Aguilar: {
      faction: "Spaniards",
      Character: "Gerónimo de Aguilar",
      isLeader: "FALSE",
      discriminator: "1234",
    },
    Garrido: {
      faction: "Spaniards",
      Character: "Juan Garrido",
      isLeader: "FALSE",
      discriminator: "1234",
    },
    Olid: {
      faction: "Spaniards",
      Character: "Cristóbal de Olid",
      isLeader: "FALSE",
      discriminator: "1234",
    },
    Cortes: {
      faction: "Spaniards",
      Character: "Hernán Cortés",
      isLeader: "TRUE",
      discriminator: "1234",
    },
    Moctezuma: {
      faction: "Aztecs",
      Character: "Moctezuma",
      isLeader: "TRUE",
      discriminator: "1234",
    },
    Tlacaelel: {
      faction: "Aztecs",
      Character: "Tlacaelel Xocoyotl (aka Tlacaelel the Younger)",
      isLeader: "FALSE",
      discriminator: "1234",
    },
    Cuauhtemoc: {
      faction: "Aztecs",
      Character: "Cuauhtémoc",
      isLeader: "FALSE",
      discriminator: "1234",
    },
    Aztec_Priest: {
      faction: "Aztecs",
      Character: "Aztec Priest",
      isLeader: "FALSE",
      discriminator: "1234",
    },
    Cacamatzin: {
      faction: "Aztecs",
      Character: "Cacamatzín",
      isLeader: "FALSE",
      discriminator: "1234",
    },
    Pochteca: {
      faction: "Aztecs",
      Character: "Pochteca",
      isLeader: "FALSE",
      discriminator: "1234",
    },
    Xicotencatl_Elder: {
      faction: "Tlaxcalans",
      Character: "Xicotencatl the Elder",
      isLeader: "TRUE",
      discriminator: "1234",
    },
    Xicotencatl_Younger: {
      faction: "Tlaxcalans",
      Character: "Xicotencatl the Younger",
      isLeader: "FALSE",
      discriminator: "1234",
    },
    Maxixcatl: {
      faction: "Tlaxcalans",
      Character: "Maxixcatl",
      isLeader: "FALSE",
      discriminator: "1234",
    },
    God: {
      faction: "God",
      Character: "God",
      isLeader: "FALSE",
      discriminator: "1234",
    }
  };

  var s = $("<select />", { id: "passage" });

  for (var val of passages) {
    $("<option />", { value: val, text: val }).appendTo(s);
  }

  s.appendTo("body"); // or wherever it should be
  $("body").append($("<br/>"));

  Object.keys(roles).forEach((role, index) => {
    $("body").append(
      $("<div/>", {
        css: { cursor: "pointer" },
        "data-role": `${role}`,
        html: role,
      }).on("click", function () {
        let pickedRole = $(this).data("role");
        let passage = $("#passage").val();
        let passagePair ="";
        if (passage != "-Continue where you left off-") {
          passagePair =`&passage=${passage}`;
        } 
        location.assign(
            `/?test=true&id=${index}&nick=${pickedRole}&username=test&discriminator=1234${passagePair}`
          );
      })
    );

    $("body").append($("<br/>"));
  });
</script>
